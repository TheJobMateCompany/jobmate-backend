# golangci-lint configuration
# Docs: https://golangci-lint.run/usage/configuration/
# Run: golangci-lint run ./...

linters:
  enable:
    - errcheck # Check that errors are handled
    - gosimple # Simplify code
    - govet # Go vet checks
    - ineffassign # Detect ineffectual assignments
    - staticcheck # Static analysis (SA class rules)
    - unused # Detect unused code
    - bodyclose # Check that HTTP response bodies are closed
    - noctx # Detect HTTP calls without a context
    - contextcheck # Check that context is properly propagated

linters-settings:
  errcheck:
    exclude-functions:
      - fmt.Print
      - fmt.Println
      - fmt.Printf
      - fmt.Fprintln
      - (encoding/json.Encoder).Encode
  govet:
    enable-all: true

issues:
  max-issues-per-linter: 50
  max-same-issues: 5
  exclude-rules:
    # Allow unhandled errors in test files
    - path: _test\.go
      linters:
        - errcheck
    # Allow unused parameters named _ in interface implementations
    - text: "parameter '_' seems to be unused"
      linters:
        - unparam
